<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<title>PS4/PS5 Menu – Currículo</title>
<style>
/* ===== BASE ===== */
html, body {
  width: 100vw;
  height: 100vh;
  margin: 0;
  padding: 0;
  overflow: hidden;
}
body {
  background: radial-gradient(circle at top, #1e2a3d 0%, #05070b 55%, #000000 100%);
  font-family: 'Segoe UI', Arial, sans-serif;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  align-items: flex-start;
  position: relative;
  padding-top: 60px;
  transition: background 0.4s ease;
}

/* ===== TOP HUD ===== */
.top-hud {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 58px;
  background: rgba(18,26,36,0.90); /* menos escuro */
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: 0 32px;
  z-index: 9999;
  border-bottom: 2.5px solid #42aaff;
  box-shadow: 0 2px 18px #12244477;
}
.hud-left, .hud-center, .hud-right {
  display: flex; align-items: center; gap: 18px;
}
.hud-center { margin-left: auto; margin-right: 80px; }

.hud-icon {
  background: none;
  border: none;
  color: #e9f5fa;
  font-size: 1.25em;
  cursor: pointer;
  position: relative;
  outline: none;
  padding: 0 2px;
  display: flex;
  align-items: center;
  transition: filter 0.12s;
}
.hud-icon:hover, .profile-area:hover {
  filter: brightness(1.22) drop-shadow(0 2px 6px #069cffbb);
}
.notif-num {
  color: #fff;
  background: #f8446b;
  border-radius: 8px;
  font-size: 1em;
  font-weight: 600;
  margin-left: 8px;
  padding: 2px 9px;
  border: 1.4px solid #121a24;
  box-shadow: 0 1px 8px #f8446b31;
  letter-spacing: 0.5px;
  min-width: 18px;
  display: inline-block;
  text-align: center;
  line-height: 1.12em;
  position: relative;
  top: 0.5px;
}
.icon-trophy, .icon-bell, .icon-cog {
  width: 28px; height: 28px;
  display: inline-block;
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
}
.icon-trophy {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 60"><g><path d="M14 50 L36 50 L32 40 Q40 34 40 21 L40 10 Q40 4 25 4 Q10 4 10 10 L10 21 Q10 34 18 40 Z" fill="%231DA1F2"/><circle cx="25" cy="18" r="12" fill="white"/><polygon points="25,8 28,16 36,16 29.5,20.5 32,28 25,23.5 18,28 20.5,20.5 14,16 22,16" fill="%23FAAF3C"/></g></svg>');
  filter: drop-shadow(0 0 7px #1da1f288);
}
.icon-bell {
  background-image: url('data:image/svg+xml;utf8,<svg width="26" height="26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 24a2.5 2.5 0 002.5-2.5h-5A2.5 2.5 0 0013 24Zm8-6V12a8 8 0 10-16 0v6l-2 2v1h20v-1l-2-2Z" fill="%2342aaff" stroke="%231a2436" stroke-width="1.2"/></svg>');
}
.icon-cog {
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%2342aaff" viewBox="0 0 24 24"><path d="M12 16.5c-2.485 0-4.5-2.014-4.5-4.5s2.015-4.5 4.5-4.5 4.5 2.014 4.5 4.5-2.015 4.5-4.5 4.5zm12-6.5h-1.345c-.256-1.243-.743-2.406-1.439-3.424l.951-.951-2.122-2.122-.951.951c-1.019-.695-2.181-1.184-3.426-1.439v-1.345h-3v1.345c-1.244.257-2.407.744-3.426 1.439l-.951-.951-2.122 2.122.951.951c-.696 1.018-1.184 2.181-1.439 3.424h-1.345v3h1.345c.257 1.244.743 2.406 1.439 3.425l-.951.951 2.122 2.122.951-.951c1.019.695 2.182 1.183 3.426 1.439v1.345h3v-1.345c1.244-.256 2.407-.744 3.426-1.439l.951.951 2.122-2.122-.951-.951c.695-1.019 1.183-2.182 1.439-3.425h1.345v-3z"/></svg>');
}
.hud-time-date {
  color: #e9f5fa;
  font-size: 1.07em;
  font-family: 'Segoe UI Mono', monospace;
  min-width: 112px;
}
.profile-area {
  display: flex; align-items: center; gap: 11px;
  background: rgba(42,62,94,0.82);
  border-radius: 9px;
  padding: 5px 55px;
  box-shadow: 0 1px 6px #006fff21, 0 2px 8px #121a2412;
  cursor: pointer;
  border: 1.5px solid #42aaff60;
  max-width: 260px;
}
.profile-img {
  width: 38px; height: 38px;
  border-radius: 7px;
  object-fit: cover;
  border: 2.5px solid #42aaff;
}
.profile-name {
  color: #f3f8fc;
  font-weight: 600;
  font-size: 1em;
  max-width: 120px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ===== BACKGROUNDS ===== */
body::before {
  content: "";
  position: fixed; top: 0; left: 0;
  width: 100vw; height: 100vh;
  z-index: -2;
  opacity: 0;
  pointer-events: none;
  background: transparent;
  transition: opacity 0.8s cubic-bezier(.4,1,.72,1);
}
body.bg-dynamic-1::before { background: url('Design sem nome (5).png') center center/cover no-repeat; opacity: 1; }
body.bg-dynamic-2::before { background: url('Design sem nome (6).png') center center/cover no-repeat; opacity: 1; }
body.bg-dynamic-3::before { background: url('Design sem nome (7).png') center center/cover no-repeat; opacity: 1; }
body.bg-dynamic-4::before { background: url('Design sem nome (8).png') center center/cover no-repeat; opacity: 1; }

body::after {
  content: "";
  position: fixed; top: 0; left: 0;
  width: 100vw; height: 100vh;
  z-index: -1;
  pointer-events: none;
  background: linear-gradient(
    to bottom,
    rgba(18,26,36,0.75) 0%, rgba(18,26,36,0.75) 10%,
    rgba(18,26,36,0.80) 30%,
    rgba(18,26,36,0.65) 46%,
    rgba(18,26,36,0.40) 60%,
    rgba(18,26,36,0.0) 90%);
  opacity: 0;
  transition: opacity 1.1s cubic-bezier(.36,1,.72,1);
}
body.gradient-fade::after { opacity: 1; }

/* ===== DASHBOARD / CARROSSEL ===== */
.dashboard-container {
  position: fixed;
  left: 0; bottom: 0;
  width: 100vw;
  z-index: 10;
  transition: transform 0.65s cubic-bezier(.42,1,.72,1);
}
.dashboard-container.expanded { transform: translateY(-340px); }

.ps4-dashboard {
  width: 100vw;
  padding: 80px 0 120px 90px;
  overflow: hidden;
}
.carousel-inner {
  display: flex;
  flex-direction: row;
  align-items: flex-end;
  gap: 38px;
  transition: transform 0.43s cubic-bezier(.42,1,.72,1);
  will-change: transform;
  position: relative;
  flex-wrap: nowrap;
  padding-bottom: 20px;
}
.menu-item-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 24px;
}
.menu-item {
  width: 160px; height: 240px;
  background: #23283a;
  box-shadow: 0 8px 32px #000c;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  border: 2.5px solid transparent;
  position: relative;
  z-index: 1;
  opacity: 0.92;
  transition: transform 0.22s cubic-bezier(.32,1.35,.62,1),
              box-shadow 0.18s,
              z-index 0.16s,
              border 0.18s;
}
.menu-item.selected {
  transform: scale(1.22);
  box-shadow: 0 0 40px 5px #42aaffcc, 0 5px 35px #000c;
  border: 2.5px solid #42aaff;
  border-bottom: none;
  z-index: 20;
  opacity: 1;
}
.menu-item img {
  width: 100%; height: 100%;
  object-fit: cover;
}

/* ===== HUD BAIXO (START + TÍTULO) ===== */
.hud-row {
  display: none;
  position: absolute;
  left: 0; top: 100%;
  flex-direction: row;
  align-items: stretch;
  z-index: 40;
  pointer-events: none;
}
.menu-item.selected ~ .hud-row {
  display: flex;
  animation: boxin 0.21s;
  transform: translateY(18px);
  left: -18px;
}
@keyframes boxin {
  from { opacity:0; transform:translateY(20px);}
  to   { opacity:1; transform:translateY(0);}
}
.hud-start {
  height: 48px;
  background: rgba(26,30,43,0.98);
  border: 2.5px solid #42aaff;
  box-shadow: 0 3px 18px #06448460;
  pointer-events: auto;
  margin-right: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 160px;
  transition: width 0.22s;
}
.menu-item.selected ~ .hud-row .hud-start {
  width: calc(160px * 1.22);
}
.hud-btn {
  background: linear-gradient(135deg,#14aaff 60%,#75d5ff 120%);
  color: #fff;
  border: none;
  font-size: 1em;
  font-weight: 600;
  letter-spacing: 2px;
  padding: 8px 32px;
  cursor: pointer;
  box-shadow: 0 1px 8px #149ccc90;
  height: 32px;
}
.hud-title {
  min-width: 220px;
  height: 48px;
  display: flex;
  align-items: center;
  background: rgba(10,14,28,0.88);
  border-radius: 16px;
  border: 1.5px solid rgba(255,255,255,0.12);
  padding: 0 22px;
  font-size: 1.05em;
  font-weight: 600;
  color: #f5f7fa;
  letter-spacing: 0.8px;
  pointer-events: auto;
  cursor: pointer;
  position: relative;
  backdrop-filter: blur(14px);
}
.hud-title .down-arrow {
  margin-left: 10px;
  font-size: 1.1em;
  color: #42aaff;
  animation: bounce 1.4s infinite;
}
.hud-title.exp-arrow .down-arrow { display: inline-block; }
@keyframes bounce {
 0%,100%{transform:translateY(0);}
 50%{transform:translateY(5px);}
}

/* ===== CD À FRENTE DA PALAVRA DESPORTO ===== */
.hud-title.desporto-title {
  display: inline-flex;
  align-items: center;
  gap: 12px;
}
.hud-title.desporto-title .cd-label-wrap {
  display: inline-flex;
  align-items: center;
  gap: 10px;
}
.hud-title.desporto-title .cd-small {
  width: 34px;
  height: 34px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ffffff 0%, #dfe3eb 40%, #7f8aa5 70%, #151924 100%);
  box-shadow: 0 0 8px rgba(0,0,0,0.85);
  border: 3px solid #111722;
  position: relative;
  animation: cdRotate 4s linear infinite, cdWobble 3s ease-in-out infinite;
}
.hud-title.desporto-title .cd-small::before {
  content: "";
  position: absolute;
  inset: 28%;
  border-radius: 50%;
  background: radial-gradient(circle, #0b1724 0%, #1e3f6a 70%);
}
@keyframes cdRotate {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}
@keyframes cdWobble {
  0%,100% { transform: translateX(0); }
  50%     { transform: translateX(4px); }
}

/* ===== BOTÃO VOLTAR CIMA ===== */
.scroll-top-btn {
  position: absolute;
  left: 50%;
  top: -38px;
  transform: translateX(-50%);
  background: #1da1f2;
  border: none;
  border-radius: 50%;
  width: 54px; height: 54px;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 14px #1da1f277;
  cursor: pointer;
  z-index: 30;
}

/* ===== PAINEL TIPO PS5 CARDS ===== */
.game-details {
  position: fixed;
  left: 0; bottom: 0;
  width: 100vw;
  padding: 18px 40px 26px;
  display: flex;
  justify-content: center;
  opacity: 0;
  pointer-events: none;
  transform: translateY(100%);
  transition: opacity 0.7s cubic-bezier(.42,1,.72,1),
              transform 0.7s cubic-bezier(.42,1,.72,1);
  z-index: 12;
}
.game-details.visible {
  opacity: 1;
  pointer-events: auto;
  transform: translateY(0%);
}

/* “Card” central estilo PS5 */
.game-details .card {
  max-width: 980px;
  width: 100%;
  background: rgba(8,10,20,0.86);
  border-radius: 22px;
  display: grid;
  grid-template-columns: auto 1fr;
  gap: 22px;
  padding: 18px 24px 20px;
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: 0 16px 50px rgba(0,0,0,0.8);
  backdrop-filter: blur(22px);
}
.game-details .card img {
  width: 210px;
  height: 140px;
  object-fit: cover;
  border-radius: 16px;
  border: 2px solid #42aaff;
}
.game-details .info {
  color: #f5f7fa;
  font-size: 0.96em;
  line-height: 1.35em;
}
.game-details .buttons {
  margin-top: 10px;
  display: flex;
  gap: 12px;
}
.game-details .buttons button {
  background: linear-gradient(135deg,#14aaff 60%,#75d5ff 120%);
  border: none;
  color: #fff;
  padding: 7px 22px;
  font-weight: 600;
  border-radius: 999px;
  cursor: pointer;
}

/* ===== LOADING HUD ===== */
.hud-start.loading { background: #23283a !important; }
.loading-bar-simple {
  width: 96%; height: 18px;
  background: #23283a;
  border: 1.5px solid #161b22;
  overflow: hidden;
}
.loading-bar-simple .fill {
  background: linear-gradient(90deg,#14aaff,#75d5ff);
  height: 100%;
  width: 0%;
  transition: width 0.2s linear;
}
</style>
</head>
<body>

<div class="top-hud">
  <div class="hud-left">
    <button class="hud-icon trophies" title="Troféus"><span class="icon-trophy"></span></button>
    <span class="hud-time-date" id="hudTimeDate"></span>
    <button class="hud-icon notifications" title="Notificações"><span class="icon-bell"></span><span class="notif-num">3</span></button>
    <button class="hud-icon settings" title="Definições"><span class="icon-cog"></span></button>
  </div>
  <div class="hud-center">
    <div class="profile-area" title="Meu Perfil">
      <img src="Áreas (6).png" alt="Meu Perfil" class="profile-img" />
      <span class="profile-name">Luís Correia</span>
    </div>
  </div>
  <div class="hud-right"></div>
</div>

<div class="dashboard-container" id="dashCont">
  <div class="ps4-dashboard">
    <div class="carousel-inner" id="carousel">

      <div class="menu-item-wrapper">
        <div class="menu-item selected" tabindex="0">
          <img src="a1771bdd-c824-4fc4-9310-3479b887080a.png" alt="Habilidades"/>
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Habilidades</div>
        </div>
      </div>

      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="3c924d2a-8986-4445-a71e-a9ef40853344.png" alt="Desporto" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn" id="hud-desporto-start">START</button></div>
          <div class="hud-title desporto-title">
            <span class="cd-label-wrap">
              <span class="cd-small"></span>
              <span>Desporto</span>
            </span>
            <span class="down-arrow">▼</span>
          </div>
        </div>
      </div>

      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="b99a94aa-3bbd-4292-b2fa-789f23416bc9.png" alt="Educação" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn" id="hud-educacao-start">START</button></div>
          <div class="hud-title">Educação <span class="down-arrow">▼</span></div>
        </div>
      </div>

      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="8ac9e92f-5912-427d-aae2-d382f30773cd.png" alt="Formações" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Formações <span class="down-arrow">▼</span></div>
        </div>
      </div>

      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="9dbeafd2-8154-4a82-a2a3-d940787db848.png" alt="Experiências" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Experiências <span class="down-arrow">▼</span></div>
        </div>
      </div>

      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="af126983-cdf7-4dc0-a72f-571d654035ed.png" alt="Definições" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Definições</div>
        </div>
      </div>

      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="732d3a76-d3cc-4e89-b9d1-53bfedaf1257.png" alt="Biblioteca" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Biblioteca</div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ===== PAINÉIS TIPO PS5 ===== -->
<div class="game-details" id="gameDetails-1">
  <button class="scroll-top-btn" onclick="scrollToCarousel()">
    <svg width="38" height="38" viewBox="0 0 48 48" fill="none">
      <polyline points="16,28 24,20 32,28" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <polyline points="16,36 24,28 32,36" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <div class="card">
    <img src="ChatGPT Image 2_08_2025, 19_35_09.png" alt="Desporto" />
    <div class="info">
      <p><strong>Desporto:</strong> Praticante regular de natação pura, águas abertas e salvamento aquático desportivo, atividades que promovem o desenvolvimento global da condição física, reforço muscular, resistência cardiovascular e respiratória, melhora da flexibilidade, postura e coordenação motora. A prática destes desportos também contribui para o aumento da resiliência mental, redução do stress, um estilo de vida mais saudável e permitiu-me desenvolver competências como a gestão de tempo, disciplina e foco em objetivos. Para ver mais informação sobre os meus desportos, carregue em START.</p>
      <div class="buttons">
        <button>Ver Troféus</button>
        <button id="hud-desporto-start-detail">START</button>
      </div>
    </div>
  </div>
</div>

<div class="game-details" id="gameDetails-2">
  <button class="scroll-top-btn" onclick="scrollToCarousel()">
    <svg width="38" height="38" viewBox="0 0 48 48" fill="none">
      <polyline points="16,28 24,20 32,28" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <polyline points="16,36 24,28 32,36" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <div class="card">
    <img src="ChatGPT Image 2_08_2025, 20_24_46.png" alt="Educação" />
    <div class="info">
      <p><strong>Educação</strong>: Percorri várias etapas académicas desafiantes, incluindo o curso de Ciências e Tecnologias no ensino secundário e a licenciatura em Tecnologia Biomédica. Estou empenhado em aprofundar continuamente os meus conhecimentos e tenciono prosseguir os meus estudos muito além da licenciatura, reforçando o meu compromisso com a aprendizagem ao longo da vida e o desenvolvimento profissional. Para ver mais informação sobre os meus estudos, carregue em START.</p>
      <div class="buttons">
        <button>Ver Troféus</button>
        <button id="hud-educacao-start-detail">START</button>
      </div>
    </div>
  </div>
</div>

<div class="game-details" id="gameDetails-3">
  <button class="scroll-top-btn" onclick="scrollToCarousel()">
    <svg width="38" height="38" viewBox="0 0 48 48" fill="none">
      <polyline points="16,28 24,20 32,28" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <polyline points="16,36 24,28 32,36" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <div class="card">
    <img src="ChatGPT Image 2_08_2025, 21_42_43.png" alt="Formações" />
    <div class="info">
      <p><strong>Formações</strong>: Ao longo do meu percurso participei em várias formações e cursos complementares, cada um contribuindo significativamente para a expansão dos meus conhecimentos práticos e teóricos. Estes cursos permitiram-me adquirir novas competências técnicas e desenvolver uma visão mais abrangente e multidisciplinar sobre temas relevantes para a minha área de interesse. Para ver mais informação sobre as minhas formações e cursos, carregue em START.</p>
      <div class="buttons">
        <button>Ver Troféus</button>
        <button>START</button>
      </div>
    </div>
  </div>
</div>

<div class="game-details" id="gameDetails-4">
  <button class="scroll-top-btn" onclick="scrollToCarousel()">
    <svg width="38" height="38" viewBox="0 0 48 48" fill="none">
      <polyline points="16,28 24,20 32,28" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <polyline points="16,36 24,28 32,36" stroke="#fff" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </button>
  <div class="card">
    <img src="ChatGPT Image 2_08_2025, 21_47_32.png" alt="Experiências" />
    <div class="info">
      <p><strong>Experiências</strong>: Ao longo do meu percurso académico e profissional, tive a oportunidade de integrar diferentes contextos de trabalho e estágios, onde aprofundei conhecimentos técnicos e desenvolvi competências essenciais para o meu crescimento profissional. Estas experiências permitiram-me aplicar na prática os conceitos aprendidos, trabalhar em equipa multidisciplinar, gerir desafios reais e contribuir ativamente para os objetivos das organizações por onde passei. Para ver mais informação sobre as minhas experiências profissionais e estágios, carregue em START.</p>
      <div class="buttons">
        <button>Ver Troféus</button>
        <button>START</button>
      </div>
    </div>
  </div>
</div>

<div id="screen-fade" style="
  position: fixed;
  top:0; left:0; width:100vw; height:100vh;
  background:black; opacity:0; pointer-events:none;
  transition:opacity 0.7s ease; z-index:99999;"></div>

<script>
function updateHudTime(){
  const el=document.getElementById('hudTimeDate');
  if(!el) return;
  const now=new Date();
  el.textContent=
    now.toLocaleDateString('pt-PT',{day:'2-digit',month:'2-digit'})+' '+
    now.toLocaleTimeString('pt-PT',{hour:'2-digit',minute:'2-digit'});
}
setInterval(updateHudTime,1000);updateHudTime();

const carousel=document.getElementById('carousel');
const allItems=carousel.querySelectorAll('.menu-item');
const hudRows=document.querySelectorAll('.hud-row');
const hudTitles=carousel.querySelectorAll('.hud-title');
const dashboardsContainer=document.getElementById('dashCont');
const gameDetailsPanels=[
  null,
  document.getElementById('gameDetails-1'),
  document.getElementById('gameDetails-2'),
  document.getElementById('gameDetails-3'),
  document.getElementById('gameDetails-4')
];
let selected=0,expanded=false;
const quadW=160,gap=38;

function moveCarousel(idx){
  carousel.style.transform=
    `translateX(calc(50vw - 90px - ${(quadW+gap)*idx + quadW/2}px))`;
}
function clearWallpapers(){
  document.body.classList.remove(
    'bg-dynamic-1','bg-dynamic-2','bg-dynamic-3','bg-dynamic-4','bg-dynamic','gradient-fade'
  );
}
function updateHUD(idx){
  if(expanded || idx===selected) return;
  allItems[selected].classList.remove('selected');
  selected=idx;
  allItems[selected].classList.add('selected');
  allItems[selected].focus();
  hudRows.forEach((row,i)=>row.style.display=(i===selected)?'flex':'none');
  moveCarousel(idx);
  clearWallpapers(); // fundo neutro enquanto só navegas
}
function expandDetails(){
  if(![1,2,3,4].includes(selected) || expanded) return;
  expanded=true;
  dashboardsContainer.classList.add('expanded');
  for(let i=1;i<=4;i++) if(gameDetailsPanels[i]) gameDetailsPanels[i].classList.remove('visible');
  if(gameDetailsPanels[selected]) gameDetailsPanels[selected].classList.add('visible');
  hudTitles.forEach((t,i)=>t.classList.toggle('exp-arrow',i===selected));
  clearWallpapers();
  document.body.classList.add('bg-dynamic-'+selected,'bg-dynamic','gradient-fade');
}
function collapseDetails(){
  expanded=false;
  dashboardsContainer.classList.remove('expanded');
  for(let i=1;i<=4;i++) if(gameDetailsPanels[i]) gameDetailsPanels[i].classList.remove('visible');
  hudTitles.forEach(t=>t.classList.remove('exp-arrow'));
  clearWallpapers();
}
hudTitles.forEach((t,i)=>{
  t.addEventListener('click',()=>{ if(selected===i && !expanded) expandDetails(); });
});
document.addEventListener('keydown',e=>{
  if(!expanded && selected>0 && (e.key==='ArrowDown'||e.key==='PageDown')) expandDetails();
  if(expanded && (e.key==='Escape'||e.key==='ArrowUp')) collapseDetails();
  if(expanded) return;
  if(e.key==='ArrowRight' && selected<allItems.length-1) updateHUD(selected+1);
  if(e.key==='ArrowLeft' && selected>0) updateHUD(selected-1);
});
allItems.forEach((item,idx)=>{
  item.addEventListener('focus',()=>{ if(!expanded) updateHUD(idx); });
  item.addEventListener('click',()=>{ if(!expanded) updateHUD(idx); });
  item.addEventListener('mouseover',()=>{ if(!expanded) updateHUD(idx); });
});
moveCarousel(selected);
hudRows.forEach((row,i)=>row.style.display=(i===selected)?'flex':'none');

function scrollToCarousel(){
  collapseDetails();
  document.querySelector(".carousel-inner").scrollIntoView({behavior:'smooth',block:'start'});
}

const screenFade=document.getElementById('screen-fade');
function genericHudLoading(button,url){
  if(!button || button.disabled) return;
  button.disabled=true;
  const hudStartDiv=button.closest('.hud-start');
  hudStartDiv.classList.add('loading');
  hudStartDiv.innerHTML='';
  const loadingBar=document.createElement('div');
  loadingBar.classList.add('loading-bar-simple');
  const fill=document.createElement('div');
  fill.classList.add('fill');
  loadingBar.appendChild(fill);
  hudStartDiv.appendChild(loadingBar);
  let widthPercent=0,frame=0;
  const totalDuration=3000,frameCount=60,increment=100/frameCount,frameDuration=totalDuration/frameCount;
  const interval=setInterval(()=>{
    frame++; widthPercent+=increment;
    if(widthPercent>100) widthPercent=100;
    fill.style.width=widthPercent+'%';
    if(frame>=frameCount){
      clearInterval(interval);
      setTimeout(()=>{
        screenFade.style.opacity='1';
        screenFade.style.pointerEvents='none';
        setTimeout(()=>{ window.location.href=url; },700);
      },400);
    }
  },frameDuration);
}
document.getElementById('hud-desporto-start')?.addEventListener('click',e=>{
  e.preventDefault(); genericHudLoading(e.currentTarget,'desporto.html');
});
document.getElementById('hud-educacao-start')?.addEventListener('click',e=>{
  e.preventDefault(); genericHudLoading(e.currentTarget,'educacao.html');
});

document.getElementById('hud-desporto-start-detail')?.addEventListener('click',e=>{
  e.preventDefault();
  screenFade.style.opacity='1';
  screenFade.style.pointerEvents='none';
  setTimeout(()=>{ window.location.href='desporto.html'; },700);
});
document.getElementById('hud-educacao-start-detail')?.addEventListener('click',e=>{
  e.preventDefault();
  screenFade.style.opacity='1';
  screenFade.style.pointerEvents='none';
  setTimeout(()=>{ window.location.href='educacao.html'; },700);
});
</script>
</body>
</html>
