<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>PS4 Menu – HUD Topo + Dashboard e Gradiente</title>
  <style>
    html, body {
      min-height: 100vh; height: 100%;
      margin: 0; padding: 0;
    }
    body {
      background: #121a24;
      font-family: 'Segoe UI', Arial, sans-serif;
      display: flex; flex-direction: column; justify-content: flex-end;
      align-items: flex-start;
      position: relative;
      padding-top: 60px; /* espaço para a barra topo */
      min-height: 100vh;
    }
    /* --- HUD TOPO FIXA --- */
    .top-hud {
      position: fixed; top: 0; left: 0; width: 100vw; height: 58px;
      background: rgba(18,26,36,0.93);
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 32px;
      z-index: 9999;
      border-bottom: 2.5px solid #42aaff;
      box-shadow: 0 2px 18px #12244477;
    }
    .hud-left, .hud-center, .hud-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    .hud-icon {
      background: none; border: none; color: #e9f5fa; font-size: 1.32em;
      cursor: pointer; position: relative; outline: none; padding: 0 2px;
      display: flex; align-items: center;
      transition: filter 0.12s;
    }
    .hud-icon:hover, .profile-area:hover {
      filter: brightness(1.25) drop-shadow(0 2px 6px #069cff99);
    }
    .badge {
      background: #f8446b; color: #fff; font-size: 0.93em; border-radius: 14px;
      padding: 2px 7px; position: absolute; right: -5px; top: -4px;
      min-width: 14px; text-align: center; font-weight: 600; border: 1.5px solid #121a24;
      box-shadow: 0 2px 8px #42aaff46; line-height: 1;
    }
    .profile-area {
      display: flex; align-items: center; gap: 11px;
      background: rgba(42,62,94,0.82); border-radius: 9px;
      padding: 5px 15px 5px 5px;
      box-shadow: 0 1px 6px #006fff21, 0 2px 8px #121a2412;
      cursor: pointer; border: 1.5px solid #42aaff60; transition: filter 0.13s;
    }
    .profile-img {
      width: 38px; height: 38px; border-radius: 7px; object-fit: cover;
      border: 2.5px solid #42aaff; box-shadow: 0 2px 12px #0a79e058; background: #202a41;
    }
    .profile-name {
      color: #f3f8fc; font-weight: 600; letter-spacing: 0.05em; font-size: 1em;
      max-width: 120px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
    }
    .icon-bell, .icon-cog, .icon-trophy {
      width: 25px; height: 25px; display: inline-block; background-size: contain;
      background-repeat: no-repeat; background-position: center;
    }
    .icon-bell { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%2342aaff" viewBox="0 0 24 24"><path d="M12 24a3.004 3.004 0 0 0 3-3h-6a3.004 3.004 0 0 0 3 3zm7-6v-5c0-3.309-2.691-6-6-6s-6 2.691-6 6v5l-2 2v1h16v-1l-2-2z"/></svg>'); }
    .icon-cog  { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%2342aaff" viewBox="0 0 24 24"><path d="M12 16.5c-2.485 0-4.5-2.014-4.5-4.5s2.015-4.5 4.5-4.5 4.5 2.014 4.5 4.5-2.015 4.5-4.5 4.5zm12-6.5h-1.345c-.256-1.243-.743-2.406-1.439-3.424l.951-.951-2.122-2.122-.951.951c-1.019-.695-2.181-1.184-3.426-1.439v-1.345h-3v1.345c-1.244.257-2.407.744-3.426 1.439l-.951-.951-2.122 2.122.951.951c-.696 1.018-1.184 2.181-1.439 3.424h-1.345v3h1.345c.257 1.244.743 2.406 1.439 3.425l-.951.951 2.122 2.122.951-.951c1.019.695 2.182 1.183 3.426 1.439v1.345h3v-1.345c1.244-.256 2.407-.744 3.426-1.439l.951.951 2.122-2.122-.951-.951c.695-1.019 1.183-2.182 1.439-3.425h1.345v-3z"/></svg>'); }
    .icon-trophy { background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%2342aaff" viewBox="0 0 24 24"><path d="M17 19v1a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-1a7 7 0 0 1-6-7V5h2V4a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v1h2v7a7 7 0 0 1-6 7Zm4-10h-2v4a5 5 0 0 1-5 5V19h2v1h-4v-1h2v-1A5 5 0 0 1 5 13V9H3v-2h1V5h16v2h1v2Z"/></svg>'); }
    .hud-time {
      color: #e9f5fa; font-size: 1.11em;
      font-variant-numeric: tabular-nums; font-family: 'Segoe UI Mono', monospace;
      letter-spacing: 1px; font-weight: 500; margin-left: 12px; text-shadow: 1px 1px 2px #0006;
    }
    @media (max-width: 750px) {
      .top-hud { padding: 0 8px; height: 45px; }
      .profile-area { padding: 3px 7px 3px 3px;}
      .hud-left, .hud-right { gap: 10px;}
      .profile-img { width: 27px; height: 27px;}
      .profile-name { font-size: 0.92em;}
      .hud-time { font-size: .98em;}
    }
    /* ----------- RESTO DO TEU CSS ----------- */
    body::before { /* ... igual ao teu código ... */ }
    body.bg-dynamic::before { /* ... igual ao teu código ... */ }
    body.bg-dynamic::after {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      z-index: -1;
      pointer-events: none;
      background:
        linear-gradient(
          to bottom,
          #121a24 0%,
          #121a24 10%,
          rgba(18,26,36,0.92) 36%,
          rgba(18,26,36,0.85) 46%,
          rgba(18,26,36,0.6) 56%,
          rgba(18,26,36,0.15) 76%,
          rgba(18,26,36,0) 100%
        );
      opacity: 0;
      transition: opacity 1.1s cubic-bezier(.36,1,.72,1);
    }
    body.bg-dynamic.gradient-fade::after {
      opacity: 1;
    }
    /* ... resto igual ao teu CSS, carrossel, HUD, detalhes, etc ... */
  </style>
</head>
<body>
<!-- --- BARRA TOPO HUD --- -->
<div class="top-hud">
  <div class="hud-left">
    <button class="hud-icon notifications" title="Notificações">
      <span class="icon-bell"></span>
      <span class="badge">3</span>
    </button>
    <button class="hud-icon settings" title="Definições">
      <span class="icon-cog"></span>
    </button>
  </div>
  <div class="hud-center">
    <div class="profile-area" title="Meu Perfil">
      <img src="https://i.pravatar.cc/82?img=12" alt="Meu Perfil" class="profile-img" />
      <span class="profile-name">Giuseppe Nelva</span>
    </div>
  </div>
  <div class="hud-right">
    <button class="hud-icon trophies" title="Troféus">
      <span class="icon-trophy"></span>
    </button>
    <span class="hud-time" id="hudTime">00:00</span>
  </div>
</div>

<!-- --- TEU DASHBOARD/CARROSSEL --- -->
<div class="dashboard-container" id="dashCont">
  <div class="ps4-dashboard">
    <div class="carousel-inner" id="carousel">
      <div class="menu-item-wrapper">
        <div class="menu-item selected" tabindex="0">
          <img src="https://upload.wikimedia.org/wikipedia/pt/4/44/Red_Dead_Redemption_II_capa.png" alt="Red Dead Redemption 2" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Red Dead Redemption 2</div>
        </div>
      </div>
      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="https://static-cdn.jtvnw.net/ttv-boxart/33214-285x380.jpg" alt="Fortnite" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">
            Fortnite <span class="down-arrow">▼</span>
          </div>
        </div>
      </div>
      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="https://upload.wikimedia.org/wikipedia/pt/1/16/Days_Gone_capa.png" alt="Days Gone" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Days Gone</div>
        </div>
      </div>
      <div class="menu-item-wrapper">
        <div class="menu-item" tabindex="0">
          <img src="https://upload.wikimedia.org/wikipedia/pt/9/94/Ghost_of_Tsushima_capa.png" alt="Ghost of Tsushima" />
        </div>
        <div class="hud-row">
          <div class="hud-start"><button class="hud-btn">START</button></div>
          <div class="hud-title">Ghost of Tsushima</div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="game-details" id="gameDetails">
  <img src="https://cdn2.unrealengine.com/Fortnite%2Fblog%2Ffortnite-season-1%2FSeason1_Screenshot_LTM_04-1920x1080-cf728f4ed458f1aa84bd25310faf429cbcdf8f37.jpg" alt="Fortnite Screenshot" />
  <div class="info">
    <p><strong>Fortnite</strong> é um jogo de battle royale muito popular com uma comunidade enorme. Tem modos cooperativos, conteúdos dinâmicos e eventos ao vivo.</p>
    <div class="buttons">
      <button class="btn-trophies">Ver Troféus</button>
      <button class="hud-btn" style="height:auto; padding:10px 36px;">START</button>
    </div>
  </div>
</div>

<script>
function updateHudTime() {
  const el = document.getElementById('hudTime');
  if (!el) return;
  const now = new Date();
  el.textContent = now.toLocaleTimeString('pt-PT', { hour: '2-digit', minute:'2-digit' });
}
setInterval(updateHudTime, 1000); updateHudTime();

// Demo de ações para cada botão da barra superior
document.querySelector('.hud-icon.notifications')?.addEventListener('click', () => alert('Notificações! (Liga a tua página de notificações aqui)'));
document.querySelector('.profile-area')?.addEventListener('click', () => alert('Perfil de utilizador (vai para o teu perfil)!'));
document.querySelector('.hud-icon.trophies')?.addEventListener('click', () => alert('Troféus (vai para a tua página de troféus)!'));
document.querySelector('.hud-icon.settings')?.addEventListener('click', () => alert('Definições (vai para settings)!'));

// Teu código real de dashboard/carrossel/painel expansion
const carousel = document.getElementById('carousel');
const allItems = carousel.querySelectorAll('.menu-item');
const hudTitles = carousel.querySelectorAll('.hud-title');
const dashboardsContainer = document.getElementById('dashCont');
const gameDetails = document.getElementById('gameDetails');
let selected = 0, expanded = false;
const quadW = 160, gap = 38;
function moveCarousel(idx) {
  carousel.style.transform = `translateX(calc(50vw - 90px - ${(quadW + gap) * idx + quadW / 2}px))`;
}
function updateHUD(idx) {
  if (expanded || idx === selected) return;
  allItems[selected].classList.remove('selected');
  selected = idx;
  allItems[selected].classList.add('selected');
  allItems[selected].focus();
  moveCarousel(idx);
  document.body.classList.toggle('bg-dynamic', selected === 1);
  if (selected !== 1) document.body.classList.remove('gradient-fade');
}
function expandDetails() {
  if (selected !== 1 || expanded) return;
  expanded = true;
  dashboardsContainer.classList.add('expanded');
  gameDetails.classList.add('visible');
  hudTitles.forEach(t => t.classList.remove('exp-arrow'));
  hudTitles[1].classList.add('exp-arrow');
  document.body.classList.add('gradient-fade');
}
function collapseDetails() {
  expanded = false;
  dashboardsContainer.classList.remove('expanded');
  gameDetails.classList.remove('visible');
  hudTitles[1].classList.remove('exp-arrow');
  document.body.classList.remove('gradient-fade');
}
hudTitles[1].addEventListener('click', expandDetails);
document.addEventListener('keydown', e => {
  if (!expanded && selected === 1 && (e.key === 'ArrowDown' || e.key === 'PageDown')) expandDetails();
  if (expanded && (e.key === 'Escape' || e.key === 'ArrowUp')) collapseDetails();
});
allItems.forEach((item, idx) => {
  item.addEventListener('focus', () => { if (!expanded) updateHUD(idx); });
  item.addEventListener('click',   () => { if (!expanded) updateHUD(idx); });
  item.addEventListener('mouseover', () => { if (!expanded) updateHUD(idx); });
});
document.addEventListener('keydown', e => {
  if (expanded) return;
  if (e.key === 'ArrowRight' && selected < allItems.length - 1) updateHUD(selected + 1);
  if (e.key === 'ArrowLeft' && selected > 0) updateHUD(selected - 1);
});
moveCarousel(selected);
</script>
</body>
</html>
