<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <title>Jurassic Desktop Escola</title>
  <style>
    body {
      margin: 0;
      background: #004040;
      font-family: 'Courier New', Courier, monospace;
      color: #00ff00;
      cursor: url('https://img.icons8.com/fluency/48/old-mouse-cursor.png'), auto;
      overflow: hidden;
    }
    #fadeInPreVideo {
      position: fixed;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      z-index: 6000;
      background: #000;
      opacity: 1;
      pointer-events: none;
      transition: opacity 1.5s;
    }
    #videoIntroContainer {
      position: fixed;
      z-index: 5000;
      left: 0; top: 0; width: 100vw; height: 100vh;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: opacity 1.6s;
    }
    #videoIntroContainer video {
      width: 100vw;
      height: 100vh;
      object-fit: cover;
      display: block;
      background: #000;
    }
    #introFade {
      position: fixed;
      left: 0; top: 0;
      width: 100vw; height: 100vh;
      z-index: 5100;
      background: #000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 1.6s;
    }
    .desktop-icon {
      width: 95px;
      text-align: center;
      cursor: pointer;
      user-select: none;
      color: #00ff00;
      margin-bottom: 28px;
      position: absolute;
      left: 15px;
    }
    .desktop-icon img {
      width: 44px;
      height: 44px;
      filter: drop-shadow(0 0 4px #00ff00);
      margin-bottom: 3px;
    }
    #icon-school {top: 14px;}
    #icon-pc {top: 97px;}
    #icon-trash {top: 180px;}
    #icon-docs {top: 263px;}
    #desktop {
      width: 100vw;
      height: 100vh;
      position: relative;
      background: linear-gradient(135deg, #003333 25%, #006666 75%);
      overflow: hidden;
    }
    #programWindow {
      display: none;
      position: absolute;
      top: 60px;
      left: 50%;
      transform: translateX(-50%);
      width: 540px;
      min-height: 370px;
      background: #002222;
      border: 2px solid #00ff00;
      padding: 18px 22px;
      box-sizing: border-box;
      z-index: 10;
      transition: opacity 0.3s;
    }
    #programWindow.closed {
      opacity: 0.3;
      pointer-events: none;
    }
    #programWindow header {
      font-weight: bold;
      font-size: 18px;
      margin-bottom: 15px;
      border-bottom: 1px solid #00ff00;
      padding-bottom: 8px;
      position: relative;
    }
    .closeProgramBtn {
      position: absolute;
      top: -2px;
      right: 8px;
      background: #004422;
      border: 1px solid #00ff00;
      color: #00ff00;
      font-size: 18px;
      cursor: pointer;
      padding: 0 12px;
      width: 30px;
      height: 28px;
      text-align: center;
      line-height: 28px;
      font-family: inherit;
    }
    .closeProgramBtn:hover {
      background: #005555;
      color: #fff;
    }
    #startButton {
      background: #004422;
      border: 1px solid #00ff00;
      color: #00ff00;
      font-size: 16px;
      padding: 8px 24px;
      cursor: pointer;
      margin: 28px auto 12px auto;
      display: block;
    }
    #infoBoxes {
      display: none;
      flex-wrap: wrap;
      gap: 13px;
      margin-bottom: 15px;
      justify-content: center;
    }
    .box {
      width: 140px;
      height: 70px;
      border: 2px solid #00ff00;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      background: #003333;
      font-size: 16px;
      user-select: none;
      transition: background 0.2s;
      flex-shrink: 0;
      position: relative;
    }
    .box:hover {
      background: #005555;
    }
    #infoContainer {
      margin-top: 12px;
      position: relative;
    }
    .download-bar {
      width: 96%;
      height: 20px;
      background: #001a00;
      border: 2px solid #00ff00;
      margin: 12px auto;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
    }
    .download-fill {
      background: #00ff00;
      height: 16px;
      width: 0;
      transition: width 1.5s linear;
    }
    .infoBoxWindow {
      background: #002222;
      border: 2px solid #00ff00;
      margin-top: 13px;
      padding: 12px;
      font-size: 15px;
      width: 95%;
      animation: windowAppear 0.23s linear;
      position: relative;
      z-index: 3;
    }
    @keyframes windowAppear {
      from { opacity: 0; transform: translateY(12px);}
      to { opacity: 1; transform: translateY(0); }
    }
    .verMaisBtn {
      background: #004422;
      border: 1px solid #00ff00;
      color: #00ff00;
      font-family: inherit;
      font-size: 14px;
      padding: 6px 18px;
      cursor: pointer;
      margin-top: 11px;
      display: block;
      transition: background 0.2s;
    }
    .verMaisBtn:hover { background: #005555; }
    .modalOverlay, .confirmOverlay {
      position: fixed;
      left: 0; top: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,32,30,0.87);
      z-index: 2000;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .modalPage, .confirmBox {
      background: #002c26;
      border: 2px solid #00ff00;
      color: #00ff00;
      font-family: 'Courier New', Courier, monospace;
      min-width: 340px;
      min-height: 110px;
      padding: 27px 32px 20px 32px;
      font-size: 16px;
      box-shadow: 0 0 20px #003833;
      text-align: left;
      position: relative;
      animation: windowAppear 0.18s ease;
    }
    .closeBtn {
      position: absolute;
      right: 10px;
      top: 8px;
      background: #004422;
      color: #00ff00;
      border: 1px solid #00ff00;
      font-size: 15px;
      cursor: pointer;
      padding: 0 12px;
      font-family: inherit;
    }
    .closeBtn:hover { background: #005555; }
    .confirmBtn, .cancelBtn {
      background: #004422;
      border: 1px solid #00ff00;
      color: #00ff00;
      font-family: inherit;
      font-size: 15px;
      padding: 9px 30px;
      cursor: pointer;
      margin-top: 15px;
      margin-right: 15px;
      transition: background 0.22s;
    }
    .cancelBtn:hover, .confirmBtn:hover { background: #005555; }
    .loadingBar {
      width: 92%;
      height: 19px;
      background: #001a00;
      border: 2px solid #00ff00;
      margin: 29px auto 3px auto;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
    }
    .loadingFill {
      background: #00ff00;
      height: 15px;
      width: 0;
      transition: width 1.3s linear;
    }
    #sysBar {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100vw;
      height: 36px;
      background: #001f12;
      border-top: 2px solid #00ff00;
      display: flex;
      align-items: center;
      justify-content: flex-end;
      padding: 0 22px;
      color: #00ff00;
      font-family: inherit;
      font-size: 15px;
      z-index: 900;
    }
    .sysIcon {
      margin-right: 16px;
      vertical-align: middle;
      width: 21px;
      height: 21px;
      filter: drop-shadow(0 0 3px #00ff001c);
    }
    #sysBar span {
      margin-right: 23px;
      font-size: 13px;
    }
    /* Estilo para os ícones dos PDFs na lista */
    #pdfListContainer {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: center;
      margin-top: 12px;
    }
    .pdfBox {
  width: 175px;                /* aumenta a largura */
  min-height: 120px;           /* caixa mais alta se necessário */
  border: 2px solid #bfff00;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start; /* para o texto começar em cima */
  cursor: pointer;
  background: #003333;
  user-select: none;
  transition: background 0.2s, border-color 0.2s;
  color: #bfff00;
  font-size: 14px;
  text-align: center;
  padding: 7px 5px 7px 5px;    /* padding extra para o texto não colar às bordas */
  box-sizing: border-box;      /* garante que width inclui padding */
  white-space: pre-line;       /* quebra de linha automática */
  word-break: break-word;      /* quebra de linha automática sem cortar palavras */
}
.pdfBox:hover {
  background: #004d00;
  border-color: #fff803;
}
.pdfBox img {
  filter: drop-shadow(0 0 7px #bfff00);
  width: 40px;
  height: 40px;
  margin-bottom: 7px;
} 

  </style>
</head>
<body>
<!-- Fade-in preto antes do vídeo -->
<div id="fadeInPreVideo"></div>
<!-- Vídeo Intro -->
<div id="videoIntroContainer">
  <video id="introVideo" autoplay muted playsinline>
    <source src="Hailuo_Video_Num fundo preto profundo com u_419356922821341193.mp4" type="video/mp4">
    O teu browser não suporta vídeo HTML5.
  </video>
</div>
<div id="introFade"></div>
<div id="desktop" style="display:none;">
  <div id="icon-school" class="desktop-icon" title="Abrir Escola">
    <img src="https://img.icons8.com/fluency/48/school-building.png" alt="Icone Escola" />
    <div>Escola</div>
  </div>
  <div id="icon-pc" class="desktop-icon" title="Este PC">
    <img src="https://img.icons8.com/fluency/48/monitor.png" alt="Icone Este PC" />
    <div>Este PC</div>
  </div>
  <div id="icon-trash" class="desktop-icon" title="Lixo">
    <img src="https://img.icons8.com/fluency/48/trash.png" alt="Icone Lixo" />
    <div>Lixo</div>
  </div>
  <div id="icon-docs" class="desktop-icon" title="Documentos">
    <img src="https://img.icons8.com/fluency/48/documents.png" alt="Icone Documentos" />
    <div>Documentos</div>
  </div>
  <div id="programWindow">
    <header>
      School Park - Sistema
      <button class="closeProgramBtn" title="Fechar programa">X</button>
    </header>
    <button id="startButton">Iniciar programa</button>
    <div id="infoBoxes">
      <div class="box" data-info="Status: Ciências e Tecnologias." data-detail="SECUNDÁRIO: Foi  feito nas escolas do barreiro: Escola Secundária de Santo André e Escola Secundária de Casquilhos.">SECUNDÁRIO</div>
      <div class="box" data-info="Status: Licenciatura em Tecnologia Biomédica." data-detail="IPS: 2022  - ....">IPS</div>
      <div class="box" data-info="Status: Sinais e Sistemas, Eletrónica e Instrumentação, Desenho Assistido por Computador, Curso Preparatório de Matemática." data-detail="ISEL: 2025-....">ISEL</div>
      <div class="box" data-info="Status: English A2." data-detail="TECMINHO: 2023.">TECMINHO</div>
      <div class="box" data-info="Status: Processamento e Análise de Dados com Pyhon." data-detail="IPC: 2022.">IPC</div>
    </div>
    <div id="infoContainer"></div>
  </div>
  <div id="sysBar">
    <img src="https://img.icons8.com/fluency/48/wifi.png" class="sysIcon" title="Wi-Fi" />
    <img src="https://img.icons8.com/fluency/48/high-volume.png" class="sysIcon" title="Volume" />
    <img src="https://img.icons8.com/fluency/48/empty-battery.png" class="sysIcon" title="Bateria" />
    <span id="sysHour"></span>
  </div>
</div>
<script>
  // Fade-in preto no início
  const preFade = document.getElementById('fadeInPreVideo');
  window.onload = () => {
    setTimeout(() => {
      preFade.style.opacity = "0";
    }, 180);
  };
  // Fade up vídeo->desktop
  const intro = document.getElementById('videoIntroContainer');
  const fade = document.getElementById('introFade');
  const desktop = document.getElementById('desktop');
  const introVideo = document.getElementById('introVideo');
  introVideo.onended = () => {
    fade.style.opacity = "1";
    setTimeout(() => {
      fade.style.opacity = "0";
      intro.style.display = "none";
      desktop.style.display = "block";
    }, 1500);
  };
  setTimeout(() => {
    if (intro.style.display !== "none") {
      fade.style.opacity = "1";
      setTimeout(() => {
        fade.style.opacity = "0";
        intro.style.display = "none";
        desktop.style.display = "block";
      }, 1500);
    }
  }, 17000); // backup timeout para vídeos longos
  function updateHour() {
    const now = new Date();
    let hh = now.getHours().toString().padStart(2, '0');
    let mm = now.getMinutes().toString().padStart(2, '0');
    let ss = now.getSeconds().toString().padStart(2, '0');
    document.getElementById("sysHour").textContent = `${hh}:${mm}:${ss}`;
  }
  setInterval(updateHour, 950);
  updateHour();

  const schoolIcon = document.getElementById("icon-school");
  const programWindow = document.getElementById("programWindow");
  const startButton = document.getElementById("startButton");
  const infoBoxes = document.getElementById("infoBoxes");
  const infoContainer = document.getElementById("infoContainer");
  const closeProgramBtn = document.querySelector('.closeProgramBtn');

  schoolIcon.addEventListener("click", () => {
    programWindow.style.display = "block";
  });

  startButton.addEventListener("click", () => {
    infoBoxes.style.display = "flex";
    startButton.style.display = "none";
    infoContainer.innerHTML = "";
  });

  function manageDownloadWindows() {
    const activeDownloads = infoContainer.querySelectorAll('.infoBoxWindow');
    if (activeDownloads.length >= 4) {
      activeDownloads[0].previousSibling?.remove();
      activeDownloads[0].remove();
    }
  }
  infoBoxes.addEventListener("click", function(e) {
    if (e.target.classList.contains("box")) {
      manageDownloadWindows();
      const downloadBar = document.createElement("div");
      downloadBar.className = "download-bar";
      const fill = document.createElement("div");
      fill.className = "download-fill";
      downloadBar.appendChild(fill);
      const infoBoxWindow = document.createElement("div");
      infoBoxWindow.className = "infoBoxWindow";
      infoBoxWindow.textContent = "Carregando módulo...";
      infoContainer.appendChild(downloadBar);
      infoContainer.appendChild(infoBoxWindow);
      setTimeout(() => { fill.style.width = "100%"; }, 40);
      setTimeout(() => {
        infoBoxWindow.innerHTML = `<div>${e.target.getAttribute("data-info")}</div>
        <button class="verMaisBtn">Ver mais</button>`;
        downloadBar.remove();
        const verMaisBtn = infoBoxWindow.querySelector(".verMaisBtn");
        verMaisBtn.addEventListener("click", function() {
          showModal(
            e.target.textContent,
            e.target.getAttribute('data-detail')
          );
        });
      }, 1510);
    }
  });

  closeProgramBtn.addEventListener('click', function() {
    showConfirmBox();
  });

  function showConfirmBox() {
    const overlay = document.createElement("div");
    overlay.className = "confirmOverlay";
    const box = document.createElement("div");
    box.className = "confirmBox";
    box.innerHTML = `<div>Deseja mesmo fechar o programa?</div>
      <button class="confirmBtn">Sim</button>
      <button class="cancelBtn">Não</button>`;
    overlay.appendChild(box);
    document.body.appendChild(overlay);
    box.querySelector('.confirmBtn').onclick = function() {
      box.innerHTML = '<div>A fechar programa...</div>' +
        '<div class="loadingBar"><div class="loadingFill"></div></div>';
      const loadingFill = box.querySelector('.loadingFill');
      setTimeout(() => { loadingFill.style.width = "100%"; }, 30);
      setTimeout(() => {
        document.body.removeChild(overlay);
        programWindow.style.display = "none";
        infoBoxes.style.display = "none";
        startButton.style.display = "block";
        infoContainer.innerHTML = "";
      }, 1300);
    };
    box.querySelector('.cancelBtn').onclick = function() {
      document.body.removeChild(overlay);
    };
  }

  function showModal(titulo, texto) {
    const overlay = document.createElement("div");
    overlay.className = "modalOverlay";
    const modal = document.createElement("div");
    modal.className = "modalPage";
    modal.innerHTML = `<button class="closeBtn">X</button><h2>${titulo}</h2><p>${texto}</p>`;
    overlay.appendChild(modal);
    document.body.appendChild(overlay);
    modal.querySelector(".closeBtn").onclick = () => document.body.removeChild(overlay);
  }

  // NOVO - Abrir a lista de PDFs ao clicar no ícone Documentos
  const iconDocs = document.getElementById("icon-docs");

  const pdfFiles = [
    {name: "Seminário de Bioquímica sobre a Fosfatidilserina", url: "bioquimica.pdf"},
    {name: "Eletrotecnia e Monitores de Sinais de Vida", url: "relatorio_eletrotecnia.pdf"},
    {name: "Projeto de Desenvolvimento de Produtos Médicos - Exoesqueleto de membros inferiores", url: "projeto_dpm_LTB.pdf"},
    {name: "Projeto de Desenvolvimento de Produtos Médicos - Exoesqueleto de membros inferiores (PPT)", url: "DPM.pdf"},
    {name: "Inovações em Dispositivos Médicos para o Tratamento da Diabetes: Bombas de Insulina e Monitores Contínuos de Glicose", url: "Dispositivos_Médicos.pdf"},
    {name: "Sistema de Ressonância Magnética - projeto de investigação", url: "equipsaude.pdf"},
    {name: "Poster Científico - Nanotecnologias para o Tratamento do Cancro do Pulmão (Nanopartículas de Ouro)", url: "Poster_1.pdf"},
    {name: "Poster Científico - Nanotecnologias para a Prevenção do Cancro do Cérebro (Técnica CRISPR)", url: "Poster_2.pdf"},
  ];

  iconDocs.addEventListener("click", () => {
    // Mostrar a janela do programa
    programWindow.style.display = "block";

    // Limpar conteúdos anteriores
    infoBoxes.style.display = "none";
    startButton.style.display = "none";
    infoContainer.innerHTML = "";

    // Criar container para lista de PDFs
    const pdfListContainer = document.createElement("div");
    pdfListContainer.id = "pdfListContainer";

    // Criar um elemento para cada PDF com ícone verde lima
    pdfFiles.forEach(pdf => {
      const pdfBox = document.createElement("div");
      pdfBox.className = "pdfBox";
      pdfBox.title = pdf.name;
      pdfBox.innerHTML = `
        <img src="https://img.icons8.com/fluency/48/pdf.png" alt="Ícone PDF" />
        <div>${pdf.name}</div>
      `;
      pdfBox.addEventListener("click", () => {
        window.open(pdf.url, "_blank");
      });
      pdfListContainer.appendChild(pdfBox);
    });

    infoContainer.appendChild(pdfListContainer);
  });
</script>
</body>
</html>
