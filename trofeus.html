<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<title>Troféus – Luís Correia</title>
<style>
html, body { width:100vw; height:100vh; margin:0; padding:0; overflow:hidden;}
body {
  background: #28345A;
  font-family: 'Segoe UI', Arial, sans-serif; min-height:100vh; display:flex; flex-direction:column; padding-top:60px;
}
.top-hud {
  position: fixed; top:0; left:0; width:100vw; height:58px; background:rgba(18,26,36,0.93);
  display:flex; align-items:center; justify-content:space-between; padding:0 32px; z-index:9999; border-bottom:2.5px solid #42aaff; box-shadow:0 2px 18px #12244477;
}
.hud-left{display:flex;align-items:center;gap:18px;}
.hud-time-date{
  color:#e9f5fa; font-size:1.07em; letter-spacing:.1px; font-variant-numeric:tabular-nums; font-family:'Segoe UI Mono', monospace;
  min-width:115px; text-align:left; text-shadow:1px 1px 2px #06060848;
}
.left-decor-btn{
  width:44px; height:44px; border-radius:9px; margin-left:18px;
  border:2.5px solid #42aaff; box-shadow:0 2px 10px #45baff88;
  background:none;
  display:inline-flex; align-items:center; justify-content:center; cursor:pointer;
  transition: box-shadow 0.16s, filter 0.13s;
}
.left-decor-btn:hover, .left-decor-btn:focus { filter:brightness(1.09); box-shadow:0 0 12px #42aaff77, 0 2px 10px #45baff88;}
.left-decor-btn svg { width:20px; height:20px; }
.hud-center{flex:1; display:flex; justify-content:flex-end; margin-left:auto; margin-right:80px;}
.profile-area{
  display:flex; align-items:center; gap:11px; background:rgba(42,62,94,0.82); border-radius:9px; padding:5px 55px 5px 55px;
  box-shadow:0 1px 6px #006fff21, 0 2px 8px #121a2412; cursor:pointer; border:1.5px solid #42aaff60; min-width:0; max-width:260px;
}
.profile-img { width:38px; height:38px; border-radius:7px; object-fit:cover; border:2.5px solid #42aaff; box-shadow:0 2px 12px #0a79e058; background:#202a41;}
.profile-name { color:#f3f8fc; font-weight:600; font-size:1em; max-width:120px; overflow:hidden; text-overflow:ellipsis; white-space:nowrap;}
.trofeus-container {
  width:100vw;
  max-width:1024px;
  margin:90px auto 0 auto;
  padding:36px 24px 32px 24px;
  background:rgba(24,32,50,0.91);
  border-radius:14px;
  box-shadow:0 10px 40px #121a2466;
  display:flex; flex-direction:column; gap:42px; align-items:center;
}
.trofeus-header {
  display:flex; align-items:flex-start; gap:36px; width:100%; justify-content:space-between; margin-bottom:12px;
}
.trofeus-title { color: #fff; font-size:2em; font-weight:800; letter-spacing:1px; display:flex; align-items:center; gap:12px;}
.contador-trofeus{color:#ffffffd9; background:#1462a7; font-size:1.1em; border-radius:10px; padding:8px 22px; font-weight:600; box-shadow:0 1px 7px #2468b988; letter-spacing:0.8px; display:flex; gap:10px; align-items:center;}
.trofeus-filtros {
  margin:0 0 25px 0; display:flex; flex-wrap:wrap; gap:18px 24px; align-items:center; justify-content:center;
}
.trofeu-lista {
  display:flex; flex-wrap:wrap; gap:34px;
  justify-content:center;
  margin-top:10px; margin-bottom:10px;
}
/* Garante lendários sempre à frente visualmente */
.trofeu-card.trofeu-lendario { z-index:50; position:relative; }
.trofeu-card          { width:160px; background:rgba(32,45,70,0.94); border-radius:10px; box-shadow:0 4px 22px #043f5f40; display:flex; flex-direction:column; align-items:center; padding:19px 10px 14px 10px; position:relative; border:2px solid #225099; transition:transform 0.19s cubic-bezier(.5,1,.8,1), box-shadow 0.19s;}
.trofeu-card.selected { border-color:#42aaff; box-shadow:0 0 15px #43b2ffb4, 0 4px 28px #123;}
.trofeu-card:focus { outline:2px solid #42aaff;}
.trofeu-card:hover{transform:scale(1.06); box-shadow:0 2px 18px #29a7f985, 0 8px 22px #14204380; border-color:#42aaff;}
.trofeu-card[hidden] { display:none !important; }
.trofeu-icone { width:60px; height:75px; margin-bottom:14px; display:flex; align-items:center; justify-content:center;}
.trofeu-icone svg{width:100%;height:100%;}
.trofeu-nome {color:#fff; font-size:1.04em; font-weight:700; text-align:center;}
.trofeu-data{color:#b5caf8;font-size:.98em;margin-top:4px;text-align:center;}
.trofeu-desc{color:#c7e7fe;font-size:.92em;margin-top:11px;margin-bottom:0;text-align:center;line-height:1.25em;}
.trofeu-oculto{filter:grayscale(1) brightness(0.55);opacity:0.73;border-color:#222c45;}
.trofeu-oculto .trofeu-nome{color:#7593be;}
.trofeu-oculto .trofeu-desc{color:#7786ae;}
.trofeu-modal-bg{
  position:fixed;z-index:20000;left:0;top:0;width:100vw;height:100vh;
  background:rgba(12,18,30,0.92);display:flex;align-items:center;justify-content:center;animation:fadeInBG 0.25s;
}
@keyframes fadeInBG { from{opacity:0;} to{opacity:1;} }
.trofeu-modal-card{
  position:relative;min-width:330px;max-width:98vw;min-height:425px;max-height:93vh;
  background:rgba(24,32,55,0.97);border-radius:17px;box-shadow:0 8px 58px #0076fc52, 0 18px 50px #0008;
  padding:38px 34px 32px 34px;display:flex;flex-direction:column;align-items:center;justify-content:center;
  transform:scale(0.93) rotateY(95deg);opacity:0;animation:flipIn 0.49s cubic-bezier(.2,.7,.7,1.2) forwards;
}
@keyframes flipIn {
  0% { transform:scale(0.93) rotateY(95deg); opacity:0;}
  60%{ transform:scale(1.1) rotateY(-10deg); opacity:1;}
  85%{ transform:scale(1.05) rotateY(2deg);}
  100%{ transform:scale(1.03) rotateY(0deg); opacity:1;}
}
.trofeu-modal-card img{width:98px;height:98px;border-radius:13px;object-fit:cover;margin-bottom:18px;box-shadow:0 2px 12px #7bb0fd86;}
.trofeu-modal-card .trofeu-modal-title{color:#fff;font-size:1.37em;font-weight:700;margin-bottom:10px;}
.trofeu-modal-card .trofeu-modal-desc{color:#c0eaff;font-size:1em;font-weight:500;text-align:center;}
.trofeu-modal-close{position:absolute;top:14px;right:20px;font-size:2.2em;font-family:Arial,sans-serif;background:none;border:none;color:#acedff;cursor:pointer;font-weight:900;line-height:1;z-index:2;filter:drop-shadow(0 0 5px #29a7f933);transition:color 0.12s;}
.trofeu-modal-close:hover{color:#fff;}
@media (max-width:900px) {
  .trofeus-container{max-width:97vw;padding:13vw 4vw 10vw 4vw;}
  .trofeus-header{flex-direction:column;gap:10px;}
  .trofeu-lista{justify-content:center;gap:18px;}
  .trofeu-card{width:49vw;min-width:128px;max-width:240px;}
  .trofeu-modal-card{min-width:0;width:94vw;padding:12vw 3vw 6vw 3vw;}
}
</style>
</head>
<body>
<div class="top-hud">
  <div class="hud-left">
    <span class="hud-time-date" id="hudTimeDate"></span>
    <button class="left-decor-btn" title="Voltar ao menu inicial" onclick="location.href='index.html'" style="background:none;">
      <svg viewBox="0 0 24 24" fill="none" stroke="#42aaff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M3 11.5L12 4l9 7.5"/>
        <path d="M5 10v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8"/>
        <path d="M9 22V12h6v10"/>
      </svg>
    </button>
  </div>
  <div class="hud-center">
    <div class="profile-area" title="Meu Perfil">
      <img src="Áreas (6).png" alt="Meu Perfil" class="profile-img" />
      <span class="profile-name">Luís Correia</span>
    </div>
  </div>
  <div class="hud-right"></div>
</div>
<div class="trofeus-container">
  <div class="trofeus-header">
    <span class="trofeus-title">Conquistas</span>
    <span class="contador-trofeus">
      <span id="count-desbloq">0</span> desbloqueadas &middot;
      <span id="count-ocultos">0</span> ocultas
    </span>
  </div>
  <div class="trofeus-filtros">
    <label><input type="checkbox" class="filtro-tipo" value="trofeu-ouro" checked> Ouro</label>
    <label><input type="checkbox" class="filtro-tipo" value="trofeu-prata" checked> Prata</label>
    <label><input type="checkbox" class="filtro-tipo" value="trofeu-bronze" checked> Bronze</label>
    <label><input type="checkbox" class="filtro-tipo" value="trofeu-lendario" checked> Lendário</label>
    <label><input type="checkbox" class="filtro-tipo" value="trofeu-oculto" checked> Oculto</label>
  </div>
  <div class="trofeu-lista" id="lista-trofeus">
    <!-- Troféu Lendário sempre primeiro! -->
    <div class="trofeu-card trofeu-lendario" tabindex="0" data-tipo="desbloqueado" data-img="https://images.unsplash.com/photo-1508873699372-7aeab60b44c9" data-desc="Lendário! Todos os troféus obtidos. Parabéns, campeão da platina.">
      <div class="trofeu-icone">
        <svg viewBox="0 0 60 81" aria-label="Troféu Lendário">
          <defs>
            <radialGradient id="gradLendario" cx="50%" cy="45%" r="60%">
              <stop offset="0%" stop-color="#e2eafd"/>
              <stop offset="60%" stop-color="#a3d1fe"/>
              <stop offset="100%" stop-color="#4db6ff"/>
            </radialGradient>
          </defs>
          <ellipse cx="30" cy="70" rx="12" ry="5" fill="#bdbfff" stroke="#7b3fbf" stroke-width="1.3"/>
          <rect x="28" y="22" width="4" height="48" rx="2" fill="#bdbfff" stroke="#6fabff" stroke-width="1.2"/>
          <path d="M17.5,23 Q10,36 18,46 Q22,52 23,70" stroke="#b1d7fd" stroke-width="2.8" fill="none"/>
          <path d="M42.5,23 Q50,36 42,46 Q38,52 37,70" stroke="#b1d7fd" stroke-width="2.8" fill="none"/>
          <ellipse cx="30" cy="20" rx="12" ry="9" fill="url(#gradLendario)" stroke="#6fabff" stroke-width="2"/>
          <path d="M18,23 Q15,43 30,52 Q45,43 42,23 Z" fill="url(#gradLendario)" stroke="#445cb3" stroke-width="2"/>
          <polygon
            points="30,4 31.3,8 35.5,8.2 32,10.5 33.3,15 30,12.4 26.7,15 28,10.5 24.5,8.2 28.7,8"
            fill="url(#gradLendario)" stroke="#6fabff" stroke-width="1"/>
        </svg>
      </div>
      <div class="trofeu-nome">Troféu Lendário</div>
      <div class="trofeu-data">2028</div>
      <div class="trofeu-desc">Troféu máximo da jornada!</div>
    </div>
    <!-- Troféu Ouro -->
    <div class="trofeu-card trofeu-ouro" tabindex="0" data-tipo="desbloqueado" data-img="https://images.unsplash.com/photo-1506744038136-46273834b3fb" data-desc="Ganhaste o troféu mais dourado do perfil!">
      <div class="trofeu-icone">
        <svg viewBox="0 0 60 75" aria-label="Troféu Ouro">
          <ellipse cx="30" cy="70" rx="12" ry="5" fill="#fffbe6" stroke="#FFD700" stroke-width="1.3"/>
          <rect x="28" y="22" width="4" height="48" rx="2" fill="#FFD700" stroke="#fff5b0" stroke-width="1.2"/>
          <path d="M17.5,23 Q10,36 18,46 Q22,52 23,70" stroke="#FFD700" stroke-width="2.8" fill="none"/>
          <path d="M42.5,23 Q50,36 42,46 Q38,52 37,70" stroke="#FFD700" stroke-width="2.8" fill="none"/>
          <ellipse cx="30" cy="20" rx="12" ry="9" fill="#FFD700" stroke="#fff5b0" stroke-width="2"/>
          <path d="M18,23 Q15,43 30,52 Q45,43 42,23 Z" fill="#FFD700" stroke="#fff5b0" stroke-width="2"/>
        </svg>
      </div>
      <div class="trofeu-nome">Troféu Ouro</div>
      <div class="trofeu-data">2026</div>
      <div class="trofeu-desc">Excelência e destaque — Ouro</div>
    </div>
    <!-- Troféu Prata -->
    <div class="trofeu-card trofeu-prata" tabindex="0" data-tipo="desbloqueado" data-img="https://images.unsplash.com/photo-1465101046530-73398c7f28ca" data-desc="Prémio de prata, incrível percurso.">
      <div class="trofeu-icone">
        <svg viewBox="0 0 60 75" aria-label="Troféu Prata">
          <ellipse cx="30" cy="70" rx="12" ry="5" fill="#f3f3f3" stroke="#C0C0C0" stroke-width="1.3"/>
          <rect x="28" y="22" width="4" height="48" rx="2" fill="#C0C0C0" stroke="#e8e8e8" stroke-width="1.2"/>
          <path d="M17.5,23 Q10,36 18,46 Q22,52 23,70" stroke="#e8e8e8" stroke-width="2.8" fill="none"/>
          <path d="M42.5,23 Q50,36 42,46 Q38,52 37,70" stroke="#e8e8e8" stroke-width="2.8" fill="none"/>
          <ellipse cx="30" cy="20" rx="12" ry="9" fill="#C0C0C0" stroke="#e8e8e8" stroke-width="2"/>
          <path d="M18,23 Q15,43 30,52 Q45,43 42,23 Z" fill="#C0C0C0" stroke="#e8e8e8" stroke-width="2"/>
        </svg>
      </div>
      <div class="trofeu-nome">Troféu Prata</div>
      <div class="trofeu-data">2024</div>
      <div class="trofeu-desc">Conquista valiosa de Prata</div>
    </div>
    <!-- Troféu Bronze -->
    <div class="trofeu-card trofeu-bronze" tabindex="0" data-tipo="desbloqueado" data-img="https://images.unsplash.com/photo-1465101178521-c1a9136a3cd7" data-desc="Bronze: início das tuas grandes conquistas.">
      <div class="trofeu-icone">
        <svg viewBox="0 0 60 75" aria-label="Troféu Bronze">
          <ellipse cx="30" cy="70" rx="12" ry="5" fill="#ffd39b" stroke="#cd7f32" stroke-width="1.3"/>
          <rect x="28" y="22" width="4" height="48" rx="2" fill="#cd7f32" stroke="#ffd39b" stroke-width="1.2"/>
          <path d="M17.5,23 Q10,36 18,46 Q22,52 23,70" stroke="#ffd39b" stroke-width="2.8" fill="none"/>
          <path d="M42.5,23 Q50,36 42,46 Q38,52 37,70" stroke="#ffd39b" stroke-width="2.8" fill="none"/>
          <ellipse cx="30" cy="20" rx="12" ry="9" fill="#cd7f32" stroke="#ffd39b" stroke-width="2"/>
          <path d="M18,23 Q15,43 30,52 Q45,43 42,23 Z" fill="#cd7f32" stroke="#ffd39b" stroke-width="2"/>
        </svg>
      </div>
      <div class="trofeu-nome">Troféu Bronze</div>
      <div class="trofeu-data">2023</div>
      <div class="trofeu-desc">Primeiras conquistas — Bronze</div>
    </div>
    <!-- Troféu Oculto -->
    <div class="trofeu-card trofeu-oculto" tabindex="0" data-tipo="oculto" data-img="https://images.unsplash.com/photo-1519121784515-796c0eaf22c8" data-desc="Descobre os segredos destes troféus ocultos...">
      <div class="trofeu-icone">
        <svg viewBox="0 0 60 75" aria-label="Troféu Oculto">
          <ellipse cx="30" cy="70" rx="12" ry="5" fill="#999" stroke="#fff" stroke-width="1.3"/>
          <rect x="28" y="22" width="4" height="48" rx="2" fill="#999" stroke="#fff" stroke-width="1.2"/>
          <path d="M17.5,23 Q10,36 18,46 Q22,52 23,70" stroke="#fff" stroke-width="2.8" fill="none"/>
          <path d="M42.5,23 Q50,36 42,46 Q38,52 37,70" stroke="#fff" stroke-width="2.8" fill="none"/>
          <ellipse cx="30" cy="20" rx="12" ry="9" fill="#101010" stroke="#fff" stroke-width="2"/>
          <path d="M18,23 Q15,43 30,52 Q45,43 42,23 Z" fill="#232323" stroke="#fff" stroke-width="2"/>
        </svg>
      </div>
      <div class="trofeu-nome">Troféu Oculto</div>
      <div class="trofeu-data"></div>
      <div class="trofeu-desc">Ainda por descobrir!</div>
    </div>
    <div class="trofeu-card trofeu-oculto" tabindex="0" data-tipo="oculto" data-img="https://images.unsplash.com/photo-1522209171808-9c9945de7c94" data-desc="Serás capaz de desbloquear este desafio?">
      <div class="trofeu-icone">
        <svg viewBox="0 0 60 75" aria-label="Troféu Oculto">
          <ellipse cx="30" cy="70" rx="12" ry="5" fill="#999" stroke="#fff" stroke-width="1.3"/>
          <rect x="28" y="22" width="4" height="48" rx="2" fill="#999" stroke="#fff" stroke-width="1.2"/>
          <path d="M17.5,23 Q10,36 18,46 Q22,52 23,70" stroke="#fff" stroke-width="2.8" fill="none"/>
          <path d="M42.5,23 Q50,36 42,46 Q38,52 37,70" stroke="#fff" stroke-width="2.8" fill="none"/>
          <ellipse cx="30" cy="20" rx="12" ry="9" fill="#101010" stroke="#fff" stroke-width="2"/>
          <path d="M18,23 Q15,43 30,52 Q45,43 42,23 Z" fill="#232323" stroke="#fff" stroke-width="2"/>
        </svg>
      </div>
      <div class="trofeu-nome">Troféu Oculto</div>
      <div class="trofeu-data"></div>
      <div class="trofeu-desc">Continua a explorar...</div>
    </div>
  </div>
</div>
<script>
// Hora/data no topo
function updateHudTime() {
  const el = document.getElementById('hudTimeDate');
  if (!el) return;
  const now = new Date();
  el.textContent = now.toLocaleDateString('pt-PT', { day: '2-digit', month: '2-digit' }) +
    ' ' + now.toLocaleTimeString('pt-PT', { hour: '2-digit', minute: '2-digit' });
}
setInterval(updateHudTime, 1000); updateHudTime();

// Contador de troféus
function atualizarContador() {
  const desbloq = document.querySelectorAll('.trofeu-card[data-tipo="desbloqueado"]').length;
  const ocultos = document.querySelectorAll('.trofeu-card[data-tipo="oculto"]').length;
  document.getElementById('count-desbloq').textContent = desbloq;
  document.getElementById('count-ocultos').textContent = ocultos;
}
atualizarContador();

// Filtros
const filtros = document.querySelectorAll('.trofeus-filtros .filtro-tipo');
filtros.forEach(f => f.addEventListener('change', filtrarTrof));
function filtrarTrof() {
  const ativos = Array.from(filtros).filter(f=>f.checked).map(f=>f.value);
  document.querySelectorAll('.trofeu-card').forEach(card => {
    card.hidden = !ativos.some(tipo => card.classList.contains(tipo));
  });
}

// Navegação e modal dos troféus (igual ao anterior)
const cards = Array.from(document.querySelectorAll('.trofeu-card'));
let sel = 0, lockModal = false;
cards[sel]?.classList.add('selected');
cards[sel]?.focus();

function selectCard(i) {
  if (lockModal) return;
  cards[sel]?.classList.remove('selected');
  // Apenas selecionáveis visíveis
  let vis = cards.filter(card => !card.hidden);
  if (vis.length === 0) return;
  let visIdx = vis.indexOf(cards[sel]) === -1 ? 0 : vis.indexOf(cards[sel]);
  visIdx = (i + vis.length) % vis.length;
  sel = cards.indexOf(vis[visIdx]);
  cards[sel]?.classList.add('selected');
  cards[sel]?.focus();
  cards[sel]?.scrollIntoView({behavior:'smooth', block:'nearest', inline:'nearest'});
}
function openModal(idx) {
  if (lockModal) return;
  const c = cards[idx];
  if (c.getAttribute('data-tipo') !== "desbloqueado" || c.hidden) return;
  lockModal = true;
  const nome = c.querySelector('.trofeu-nome')?.innerText || "";
  const desc = c.getAttribute('data-desc') || c.querySelector('.trofeu-desc')?.innerText || "";
  const img = c.getAttribute('data-img') || "https://images.unsplash.com/photo-1506744038136-46273834b3fb";
  const bg = document.createElement('div');
  bg.className = 'trofeu-modal-bg';
  bg.tabIndex = 0;
  bg.innerHTML = `
    <div class="trofeu-modal-card">
      <button class="trofeu-modal-close" title="Fechar">&times;</button>
      <img src="${img}" alt="Imagem do Troféu"/>
      <div class="trofeu-modal-title">${nome}</div>
      <div class="trofeu-modal-desc">${desc}</div>
    </div>
  `;
  document.body.appendChild(bg);
  bg.focus();
  function fechar() {
    bg.remove();
    lockModal = false;
    cards[sel]?.focus();
  }
  bg.querySelector('.trofeu-modal-close').onclick = fechar;
  bg.onclick = e => { if (e.target === bg) fechar(); };
  window.addEventListener('keydown', function handler(ev) {
    if (ev.key === "Escape") { fechar(); window.removeEventListener('keydown', handler);}
  });
}
cards.forEach((card,i) => {
  card.addEventListener('click', ()=>openModal(i));
  card.addEventListener('keydown', e => { if (e.key === "Enter") openModal(i); });
});
window.addEventListener('keydown', function(e) {
  if (lockModal) return;
  // Calcula apenas os cartões visíveis
  const vis = cards.filter(card=>!card.hidden);
  if (!vis.length) return;
  let curIdx = vis.indexOf(cards[sel]);
  if (e.key === "ArrowRight") {
    selectCard(curIdx+1); e.preventDefault();
  } else if (e.key === "ArrowLeft") {
    selectCard(curIdx-1); e.preventDefault();
  } else if (e.key === "Enter" && document.activeElement.classList.contains('trofeu-card')) {
    const idx = cards.indexOf(document.activeElement);
    if (idx>-1) openModal(idx);
  }
});
</script>
</body>
</html>
