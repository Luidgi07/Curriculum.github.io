<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<title>Cartões com Leaflet.js</title>
<!-- Leaflet CSS e JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
<style>
html, body {
  margin: 0; padding: 0;
  height: 100%; width: 100%;
  background: #1a1817;
  font-family: 'Segoe UI', Arial, sans-serif;
}
/* HUD simplificado */
.top-hud { height: 54px; background: #182436; color: #fff; display: flex; align-items: center; padding: 0 28px; border-bottom: 2px solid #42aaff; user-select:none; }
.hud-left { flex: 1; }
.profile-area { display: flex; align-items: center; gap: 8px; }
.profile-img { width: 36px; height: 36px; border-radius: 7px; border: 2px solid #42aaff; background: #222; }
.profile-name { font-weight: 500; }
.conteudo-wrapper { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: calc(100vh - 54px);}
.cartao-modal { width: 900px; background: #11253e; border-radius: 10px; display: flex; overflow: hidden; box-shadow: 0 5px 32px #0007; border: 2.5px solid #42aaff90;}
.cartao-esq { width:220px; background:#101c33; display:flex;align-items:center;justify-content:center;}
.cartao-esq img { width:85%; margin-left:2px;}
.cartao-centro { flex:1; background:#f3f8fe; display:flex;align-items:center;justify-content:center; }
/* Leaflet Map container */
#leaflet-map { width:600px; height:370px; border-radius:7px; box-shadow:0 1px 13px #168afb42;}
.cartao-dir { width:220px; background:#101e30; display:flex;flex-direction:column;align-items:center;justify-content:center;padding:26px 0;gap:20px;}
.info-rect {background:#203858;color:#e4f3ff;font-size:1.11em;border-radius:10px;padding:24px 0;text-align:center;width:85%;margin:0 11px;box-shadow:inset 0 0 9px #42aaff55;}
.medalhas-info-horizontal {display:flex;justify-content:center;align-items:center;gap:15px;}
.medalha-col {display:flex;flex-direction:column;align-items:center;gap:6px;}
.medalha-img {width:34px;height:34px;object-fit:contain;border-radius:7px;background:#fff2;border:1.2px solid #eee6;}
.qtd-medalha {font-family:'Fira Mono', monospace;font-size:1.15em;font-weight:bold;color:#ffd700;}
.qtd-medalha.prata { color: #d0d8e6; }
.qtd-medalha.bronze { color: #fa9940; }
</style>
</head>
<body>
<div class="top-hud">
  <div class="hud-left">Cartão Atleta - Leaflet.js</div>
  <div class="profile-area">
    <img src="Áreas (6).png" alt="Perfil" class="profile-img" />
    <span class="profile-name">Luís Correia</span>
  </div>
</div>
<div class="conteudo-wrapper">
  <div class="cartao-modal">
    <div class="cartao-esq">
      <img src="anacart-removebg-preview.png" alt="Cartão Atleta">
    </div>
    <div class="cartao-centro">
      <!-- Leaflet Map substitui a antiga imagem do mapa -->
      <div id="leaflet-map"></div>
    </div>
    <div class="cartao-dir">
      <div class="info-rect medalhas-info-horizontal">
        <div class="medalha-col">
          <img src="med1-removebg-preview.png" alt="Ouro" class="medalha-img"/>
          <span class="qtd-medalha">10</span>
        </div>
        <div class="medalha-col">
          <img src="med2-removebg-preview.png" alt="Prata" class="medalha-img"/>
          <span class="qtd-medalha prata">0</span>
        </div>
        <div class="medalha-col">
          <img src="med3-removebg-preview.png" alt="Bronze" class="medalha-img"/>
          <span class="qtd-medalha bronze">0</span>
        </div>
      </div>
      <div class="info-rect">Lesão: Nadador Completo 2018</div>
      <div class="info-rect">Evento: SWIM CAMP</div>
    </div>
  </div>
</div>
<script>
// ------ Pins do Cartão 3: usar latitude/longitude reais ---------
const pins3 = [
  { nome: "Piscina 15", local: "Algés-PT", lat: 38.7010, lng: -9.2279 },
  { nome: "Piscina 12", local: "Sto. António dos Cavaleiros-PT", lat: 38.8252, lng: -9.1688 },
  { nome: "Piscina 13", local: "Corroios-PT", lat: 38.6336, lng: -9.1497 },
  { nome: "Piscina 14", local: "Alvito-PT", lat: 38.5637, lng: -8.0440 },
  { nome: "Piscina 14", local: "INATEL-PT", lat: 38.7436, lng: -9.1432 },
  { nome: "Piscina 14", local: "São Bento-PT", lat: 38.7126, lng: -9.1456 },
  { nome: "Piscina 14", local: "Alvalade-PT", lat: 38.7582, lng: -9.1390 },
  { nome: "Piscina 13", local: "Amora-PT", lat: 38.6391, lng: -9.1138 }
];

// Inicializa Leaflet Map
function inicializarMapaLeaflet(pins) {
  // Remove qualquer instância anterior
  if(window.mapaLeaflet) window.mapaLeaflet.remove();

  // Centro em Portugal
  window.mapaLeaflet = L.map('leaflet-map').setView([39.5, -8.0], 7);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution:'© OpenStreetMap contributors'
  }).addTo(window.mapaLeaflet);

  // Adiciona pins
  pins.forEach(pin => {
    L.marker([pin.lat, pin.lng]).addTo(window.mapaLeaflet)
      .bindPopup(`<strong>${pin.nome}</strong><br>${pin.local}`);
  });
}

// Espera DOM pronto e inicializa o mapa no cartão modal principal
window.addEventListener('DOMContentLoaded', () => {
  inicializarMapaLeaflet(pins3);
});
</script>
</body>
</html>
