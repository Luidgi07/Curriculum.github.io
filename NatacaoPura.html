<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8" />
<title>Imagens Coladas com Retângulos e HUD + Mapa</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin=""/>
<style>
html, body {
  margin: 0; padding: 0;
  width: 100vw; height: 100vh;
  background: #1a1817;
  font-family: 'Segoe UI', Arial, sans-serif;
  box-sizing: border-box;
  overflow: hidden;
}
body {
  width: 100vw; height: 100vh;
  min-height: 100vh; min-width: 100vw;
}

.top-hud {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 58px;
  background: rgba(18,26,36,0.93);
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 32px;
  z-index: 9999;
  border-bottom: 2.5px solid #42aaff;
  box-shadow: 0 2px 18px #12244477;
  user-select: none;
}
.hud-left { display: flex; align-items: center; gap: 18px; }
.hud-time-date {
  color: #e9f5fa; font-size: 1.07em; letter-spacing: .1px; font-variant-numeric: tabular-nums;
  font-family: 'Segoe UI Mono', monospace;
  min-width: 115px; text-align: left; text-shadow: 1px 1px 2px #06060848;
  user-select: text;
}
.profile-area { ... }
.profile-img { ... }
.profile-name { ... }
/* Ocultei parte do CSS do perfil só para poupar espaço, mantenha o seu! */

.conteudo-wrapper {
  position: absolute;
  top: 58px;
  left: 0;
  width: 100vw;
  height: 70vh;
  max-height: 70vh;
  display: flex;
  background: transparent;
  z-index: 10;
}
.sala-imagens {
  display: flex;
  flex-direction: row;
  align-items: stretch;
  width: 100vw;
  height: 100%;
  font-size: 0;
  position: relative;
}
.sala-imagens img {
  flex: 1 1 0;
  width: 0;
  height: 100%;
  object-fit: cover;
  display: block;
  margin: 0; border: none; padding: 0;
  min-width: 0; min-height: 0;
}
.separador {
  width: 3mm;
  min-width: 3mm;
  height: 100%;
  background: #878677;
  display: block;
  border: none;
  margin: 0; padding: 0;
  flex: 0 0 3mm;
}
@media (max-width:900px) {
  .conteudo-wrapper { height: 42vh; max-height: 42vh;}
  .sala-imagens { flex-direction: column; height: 100%; width: 100%; }
  .sala-imagens img, .separador {
    width: 100vw !important; max-width: 100vw;
    height: auto;
  }
  .separador {
    height: 3mm; max-height: 3mm; min-height: 3mm; width: 100vw;
  }
}
.sala-imagens img[onclick] {
  cursor: pointer;
  transition: box-shadow 0.15s, transform 0.15s;
}
.sala-imagens img[onclick]:hover {
  box-shadow: 0 0 20px #ffd70088, 0 0 0 2.5px #ffd700dd;
  transform: translateY(-4px) scale(1.035);
  outline: 0;
}
.dica-msg {
  position: absolute;
  left: 50%; top: 28px;
  background: #fff8ce;
  color: #473c08;
  font-weight: bold;
  padding: 8px 17px;
  border-radius: 13px;
  font-size: 1.05em;
  box-shadow: 0 2px 10px #0003;
  opacity: 0.96;
  pointer-events: none;
  z-index: 30;
  transform: translateX(-50%);
  transition: opacity 0.17s, top 0.17s;
  animation: piscarDica 1.6s infinite alternate;
  white-space: nowrap;
}
@keyframes piscarDica { 0%{opacity:1;} 100%{opacity:.5;} }
/* Mapa Leaflet: largura total, ocupa 30% da altura, sempre ao fundo */
#mapid {
  position: absolute;
  left: 0;
  bottom: 0;
  width: 100vw;
  height: 30vh;
  min-height: 120px;
  max-height: 400px;
  z-index: 2;
  box-shadow: none;
  border-radius: 0;
  margin: 0; padding: 0;
}
</style>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
<div id="screen-fade"></div>
<div class="top-hud">
  <div class="hud-left">
    <span class="hud-time-date" id="hudTimeDate"></span>
    <button class="left-decor-btn" title="Voltar ao menu inicial" aria-label="Voltar ao menu inicial">
      <svg viewBox="0 0 24 24" fill="none" stroke="#42aaff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true" focusable="false">
        <path d="M3 11.5L12 4l9 7.5"/>
        <path d="M5 10v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8"/>
        <path d="M9 22V12h6v10"/>
      </svg>
    </button>
  </div>
  <div class="hud-center">
    <div class="profile-area" title="Meu Perfil" tabindex="0">
      <img src="Áreas (6).png" alt="Meu Perfil" class="profile-img" />
      <span class="profile-name">Luís Correia</span>
    </div>
  </div>
  <div class="hud-right"></div>
</div>
<div class="conteudo-wrapper">
  <div class="sala-imagens" role="list">
    <img src="ab13e542-fc6d-4634-9cd1-8e8dd6b08065.png" alt="imagem 1" role="listitem" tabindex="-1">
    <div class="separador" aria-hidden="true"></div>
    <img src="cmb.png" alt="imagem 2" onclick="abrirCartao(2)" role="listitem" tabindex="0">
    <div class="separador" aria-hidden="true"></div>
    <img src="ANA.png" alt="imagem 3" onclick="abrirCartao(3)" role="listitem" tabindex="0">
    <div class="separador" aria-hidden="true"></div>
    <img src="SFUAP.png" alt="imagem 4" onclick="abrirCartao(4)" role="listitem" tabindex="0">
    <div class="separador" aria-hidden="true"></div>
    <img src="CIRL.png" alt="imagem 5" onclick="abrirCartao(5)" role="listitem" tabindex="0">
    <div class="separador" aria-hidden="true"></div>
    <img src="any.png" alt="imagem 6" onclick="abrirCartao(6)" role="listitem" tabindex="0">
  </div>
</div>
<div id="mapid"></div>
<script>
function updateHudTime() {
  const el = document.getElementById('hudTimeDate');
  if (!el) return;
  const now = new Date();
  el.textContent = now.toLocaleDateString('pt-PT', { day: '2-digit', month: '2-digit' }) +
  ' ' + now.toLocaleTimeString('pt-PT', { hour: '2-digit', minute: '2-digit' });
}
setInterval(updateHudTime, 1000); updateHudTime();
document.querySelector('.left-decor-btn').addEventListener('click', () => { window.location.href = 'desporto.html'; });

// Dica "Clica para ver o cartão!"
document.querySelectorAll('.sala-imagens img[onclick]').forEach(function(img) {
  let dica;
  img.addEventListener('mouseenter', function(e) {
    dica = document.createElement('div');
    dica.className = 'dica-msg';
    dica.textContent = 'Clica para ver o cartão!';
    const sala = document.querySelector('.sala-imagens');
    const imgRect = img.getBoundingClientRect();
    const salaRect = sala.getBoundingClientRect();
    dica.style.top = (imgRect.top - salaRect.top + 22) + 'px';
    dica.style.left = (imgRect.left - salaRect.left + imgRect.width/2) + 'px';
    sala.appendChild(dica);
  });
  img.addEventListener('mouseleave', function(e) {
    if (dica && dica.parentNode) dica.parentNode.removeChild(dica);
    dica = null;
  });
  img.addEventListener('keydown', function(e) {
    if(e.key === "Enter" || e.key === " ") {
      abrirCartao(parseInt(e.target.getAttribute('onclick')?.match(/\d+/)?.[0]));
    }
  });
});

// MAPA LEAFLET
const pins3 = [
  { lat: 38.672, lng: -9.264, nome: "Piscina 15", local: "Algés- PT", imagem: "piscina15.jpg" },
  { lat: 38.785, lng: -9.092, nome: "Piscina 12", local: "Sto. António dos Cavaleiros - PT", imagem: "piscina12.jpg" },
  { lat: 38.679, lng: -9.146, nome: "Piscina 13", local: "Corroios - PT", imagem: "piscina13.jpg" },
  { lat: 38.749, lng: -8.960, nome: "Piscina 14", local: "Alvito - PT", imagem: "piscina14.jpg" },
  { lat: 38.721, lng: -9.304, nome: "Piscina 14", local: "INATEL - PT", imagem: "piscina14.jpg" },
  { lat: 38.732, lng: -9.271, nome: "Piscina 14", local: "São Bento - PT", imagem: "piscina14.jpg" },
  { lat: 38.715, lng: -9.121, nome: "Piscina 14", local: "Alvalade - PT", imagem: "piscina14.jpg" },
  { lat: 38.703, lng: -9.109, nome: "Piscina 13", local: "Amora - PT", imagem: "piscina13.jpg" }
];
const map = L.map('mapid').setView([38.7, -9.2], 11);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '© OpenStreetMap contributors', maxZoom: 18 }).addTo(map);
pins3.forEach(pin => {
  L.marker([pin.lat, pin.lng]).addTo(map)
    .bindPopup(`<strong>${pin.nome}</strong><br>${pin.local}<br><img src="${pin.imagem}" alt="${pin.nome}" style="max-width:120px; border-radius: 6px;">`);
});

// [SEU CÓDIGO DOS CARTÕES/ZOOM permanece igual e pode ser colado abaixo]
</script>
</body>
</html>
